**Υποβολή Παραγγελίας**: 



**Πρωτεύον Actor**: Φαρμακοποιός



**Ενδιαφερόμενοι**:

*Φαρμακοποιός*: Θέλει να αναζητά φάρμακα και να υποβάλλει ηλεκτρονικά παραγγελίες, γνωρίζοντας ποιες ποσότητες θα εξυπηρετηθούν και αν θα δημιουργηθούν backorders.



*Διαχειριστής φαρμακαποθήκης*: Θέλει οι παραγγελίες να είναι σαφείς και πλήρως καθορισμένες, ώστε να μπορούν να εκτελεστούν.



*Φαρμακαποθήκη*: Θέλει ορθό έλεγχο διαθεσιμότητας αποθεμάτων και σωστή καταχώριση παραγγελιών και backorders.



**Προϋποθέσεις**:

Ο φαρμακοποιός είναι εγγεγραμμένος πελάτης της φαρμακαποθήκης και έχει συνδεθεί στο σύστημα.

Υπάρχει διαθέσιμος κατάλογος προϊόντων με ενημερωμένη πληροφορία αποθεμάτων.



**Βασική ροή**:

Ο φαρμακοποιός επιλέγει μια παραγγελία από τις προσωρινά αποθηκευμένες.



Ο φαρμακοποιός μπορεί να αποθηκεύσει προσωρινά την παραγγελία ώστε να την ολοκληρώσει αργότερα.



Ο φαρμακοποιός επιλέγει την ολοκλήρωση και υποβολή της παραγγελίας.



Το σύστημα ελέγχει τη διαθεσιμότητα αποθεμάτων για όλα τα φάρμακα της παραγγελίας.



Το σύστημα επιβεβαιώνει ότι όλα τα ζητούμενα φάρμακα είναι πλήρως διαθέσιμα.



Το σύστημα δημιουργεί την παραγγελία και την καταχωρίζει ως εκκρεμή προς εκτέλεση (confirmed).



**Εναλλακτικές ροές**:

Υπάρχει μη διαθεσιμότητα ή περιορισμένη διαθεσιμότητα αποθεμάτων για ένα ή περισσότερα φάρμακα της παραγγελίας.



Το σύστημα εμφανίζει ειδοποίηση με τα φάρμακα για τα οποία δεν επαρκεί το απόθεμα και τις διαθέσιμες ποσότητες.



Ο φαρμακοποιός επιλέγει αν θα προχωρήσει ή όχι με την παραγγελία.



Αν ο φαρμακοποιός επιλέξει να μην προχωρήσει, η περίπτωση χρήσης τερματίζεται και η παραγγελία παραμένει αποθηκευμένη προσωρινά.



Υπάρχει μη διαθεσιμότητα ή περιορισμένη διαθεσιμότητα και ο φαρμακοποιός επιλέγει να προχωρήσει με τις διαθέσιμες ποσότητες και τη δημιουργία backorders.



Το σύστημα προσαρμόζει την παραγγελία ώστε να περιλαμβάνει μόνο τις διαθέσιμες ποσότητες φαρμάκων.



Το σύστημα δημιουργεί μία αναδρομική παραγγελία (backorder) για κάθε είδος που εμφανίζει περιορισμένη διαθεσιμότητα ή έλλειψη.



!\[alt text](uml/requirements/activity-submit-order.png)
!\[alt text](uml/requirements/sequence-submit-order.png)

