**Απόσυρση παρτίδας**:


**Πρωτεύον Actor**: Διαχειριστής φαρμακαποθήκης



**Ενδιαφερόμενοι**:
*Διαχειριστής φαρμακαποθήκης*: Θέλει να μπορεί να αποσύρει μια παρτίδα προϊόντος και να ενημερώνει όλους τους φαρμακοποιούς στους οποίους έχει διανεμηθεί.



*Φαρμακοποιός*: Θέλει να ενημερώνεται όταν ένα προϊόν ή συγκεκριμένη παρτίδα που έχει λάβει πρέπει να αποσυρθεί.



*Φαρμακαποθήκη*: Θέλει η απόσυρση παρτίδας να υλοποιείται αποτελεσματικά προς όλους τους πελάτες της.



**Προϋποθέσεις**:
Υπάρχει ανάγκη απόσυρσης συγκεκριμένης παρτίδας ενός προϊόντος.
Το σύστημα διαθέτει στοιχεία ιχνηλασιμότητας που συνδέουν τις παρτίδες προϊόντων με τους φαρμακοποιούς στους οποίους έχουν διανεμηθεί.



**Βασική ροή**:
Ο διαχειριστής επιλέγει τη λειτουργία απόσυρσης προϊόντος και καταγράφεται στο σύστημα.

Ο διαχειριστής επιλέγει το προϊόν για το οποίο υπάρχει ανάγκη απόσυρσης.

Ο διαχειριστής επιλέγει την παρτίδα του προϊόντος με τον αντίστοιχο κωδικό ΕΟΦ που πρέπει να αποσυρθεί.

Το σύστημα εντοπίζει όλους τους φαρμακοποιούς στους οποίους έχει διανεμηθεί το συγκεκριμένο προϊόν της επιλεγμένης παρτίδας.

Το σύστημα αποστέλλει μήνυμα ενημέρωσης σε όλους τους φαρμακοποιούς μέσω email.



**Εναλλακτικές ροές**:

Δεν έχει διανεμηθεί το προϊόν της συγκεκριμένης παρτίδας σε κανέναν φαρμακοποιό.

Το σύστημα ενημερώνει τον διαχειριστή ότι δεν υπάρχουν φαρμακοποιοί προς ενημέρωση.

Η περίπτωση χρήσης τερματίζεται.



!\[alt text](uml/requirements/activity-order-withdrawal.png)
!\[alt text](uml/requirements/sequence-order-withdrawal.png)

